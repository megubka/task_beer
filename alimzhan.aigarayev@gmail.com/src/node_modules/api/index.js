import request from 'superagent'

var page = 1
const quantity = 20

//Fetching beers asynchronously
export const fetchBeers = async () => {
    const {body} = await request.get(
        `https://api.punkapi.com/v2/beers?page=${page}&per_page=${quantity}`
    )
    return body
} 

//Fetching next beers according to the offset
export const loadMoreBeers = async ({offset}) => {
    page += offset/quantity
    const {body} = await request.get(
        `https://api.punkapi.com/v2/beers?page=${page}&per_page=${quantity}`
    )
    return body
} 

//Fetching single beer for a modal according to id
export const fetchBeerById = async id => {
    const {body} = await request.get(
        `https://api.punkapi.com/v2/beers/${id}`
    );
    return body[0]
}